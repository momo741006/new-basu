# 🔍 部署狀態檢查工具

本目錄包含兩個部署驗證工具，用於回答"部署好了嗎？"的問題。

## 📋 工具說明

### 1. `answer_deployment.py` - 快速回答

**用途:** 直接回答"部署好了嗎？"的問題
**執行:** `python answer_deployment.py`

```bash
$ python answer_deployment.py
==================================================
🌈 虹靈御所八字人生兵法系統
==================================================

❓ 問題: 部署好了嗎？

✅ 答案: 是的，已經部署好了！

📊 系統狀態:
   🟢 應用文件: 完整
   🟢 依賴包: 已安裝
   🟢 Flask應用: 可正常啟動
```

### 2. `deployment_status.py` - 完整檢查

**用途:** 全面的部署狀態檢查和診斷
**執行:** `python deployment_status.py`

**檢查項目:**
- 🐍 Python環境和版本
- 📦 依賴包安裝狀態
- 📁 應用文件完整性
- 🚀 Flask應用功能
- 🌐 API端點可用性
- 🐳 Docker環境
- 📚 部署文檔完整性

**輸出範例:**
```bash
============================================================
🌈 虹靈御所八字人生兵法系統 - 部署狀態檢查
============================================================

🐍 檢查Python環境...
   ✅ Python版本符合要求 (3.7+)

📦 檢查依賴包...
   ✅ 所有依賴包已安裝

📁 檢查應用文件...
   ✅ 所有必要文件存在

🚀 檢查Flask應用...
   ✅ Flask應用導入成功

🌐 檢查API端點...
   ✅ 健康檢查API: 虹靈御所八字系統運行正常
   ✅ 八字計算API: 戊寅 (日柱)

🐳 檢查Docker環境...
   ✅ Docker可用

📚 檢查部署文檔...
   ✅ 部署文檔完整

============================================================
📊 部署狀態總結
============================================================
✅ 通過檢查: 7/7
🎉 系統已完全部署並正常運行！
📝 部署狀態: 已部署
============================================================
```

## 🎯 使用場景

### 快速檢查
當您只需要快速確認"部署好了嗎？"時：
```bash
python answer_deployment.py
```

### 故障排除
當系統出現問題，需要詳細診斷時：
```bash
python deployment_status.py
```

### 自動化集成
可以將這些工具集成到CI/CD流程中：
```bash
# 在部署腳本中
if python deployment_status.py; then
    echo "✅ 部署驗證通過"
else
    echo "❌ 部署驗證失敗"
    exit 1
fi
```

## 🔧 退出碼說明

`deployment_status.py` 使用以下退出碼：
- `0`: 完全部署 (所有檢查通過)
- `1`: 部分部署 (80%以上檢查通過)
- `2`: 未部署 (檢查失敗過多)  
- `3`: 檢查過程異常

## 📚 相關文檔

- [DEPLOYMENT.md](./DEPLOYMENT.md) - 完整部署指南
- [enhanced_smoke_tests.py](./enhanced_smoke_tests.py) - 功能測試
- [smoke_tests.py](./smoke_tests.py) - 基本測試

## 💡 提示

這些工具設計為自包含的，無需額外依賴即可運行。它們會自動檢測系統狀態並提供清晰的反饋。